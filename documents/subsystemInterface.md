#  サブシステム間インターフェース

## 通信の種類

### ソケット通信

C#のソケット通信の機能を使って通信する。HTTPのように応答を受け取れるので、上りと下りがある。

- ポート: TCP/5239
- 形式: 文字列

### NetCode for GameObjects

Unityの`NetCode for GameObjects`を使って通信する。

- ポート: UDP/5239
- 形式: NetCode for GameObjects依存
  - おそらく中身はメソッドとその引数

## コンソール→サーバ

### コンソールから命令を出す

ソケット通信を用いる。

- 上り
  - 命令の種類を表す文字列
- 下り
  - 処理結果(成功したか、失敗したか)

## クライアント/コントローラ→サーバ

### サーバの状態を確認する

ソケット通信を用いる。

- 上り
  - 「サーバの状態を確認する」ことを表す文字列
- 下り
  - 現在のサーバの状態(停止中か、準備中か、ライブ中か)

## サーバ→クライアント/コントローラ

### 画面遷移指示

NetCode for GameObjectsを用いる。

![コミュニケーション図のようなもの](diagrams\export\communications\1_joinLive.svg)