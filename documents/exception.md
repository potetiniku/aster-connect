# 例外時処理

## 通信

### 状態

- サーバ未起動: サーバが起動していないか、サーバと通信できない状態。
- サーバ停止中: サーバと通信ができて、ライブ準備中の前の状態。
- ライブ準備中: サーバと通信ができて、ライブが開始する前の状態。
- ライブ開催中: サーバと通信ができて、ライブを開催中の状態。

### サーバに接続しようとしたときの処理

| サブシステム | サーバ未起動                                               | サーバ停止中                                   | ライブ準備中           | ライブ開催中           |
| ------------ | ---------------------------------------------------------- | ---------------------------------------------- | ---------------------- | ---------------------- |
| コンソール   | 命令送信時に「サーバに接続できませんでした。」と表示する。 | 命令を送信する。                               | 命令を送信する。       | 命令を送信する。       |
| コントローラ | 「サーバに接続できませんでした。」と表示する。             | 「サーバに接続できませんでした。」と表示する。 | ライブ画面に移動する。 | ライブ画面に移動する。 |
| クライアント | 「サーバに接続できませんでした。」と表示する。             | 「サーバに接続できませんでした。」と表示する。 | 待機画面に移動する。   | ライブ画面に移動する。 |

### サーバとの通信が切断されたときの処理

- コンソール: 常時接続ではないので考慮しない。
- コントローラとクライアント
	- ライブ画面: 画面左下に「通信中」と表示し、再接続されるまで退出ボタン以外のUIを操作できなくする。
	- タイトル画面: 常時接続ではないので考慮しない。